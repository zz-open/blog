import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BvyuMnyR.js";import{u as c,o as g,c as m,w as a,r as e,g as s,h as t,f as E,p as k}from"./app-boVvO3tb.js";import"./YunComment.vue_vue_type_style_index_0_lang-CrsBtAxv.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-CFbN6BoV.js";import"./post-nLiiti9w.js";const w={__name:"docker-install-tomcat",setup(u,{expose:o}){const l=JSON.parse('{"title":"dokcer安装tomcat","description":"","frontmatter":{},"headers":[{"level":2,"title":"修改","slug":"修改","link":"#修改","children":[{"level":3,"title":"manager-gui","slug":"manager-gui","link":"#manager-gui","children":[]},{"level":3,"title":"webapps","slug":"webapps","link":"#webapps","children":[]},{"level":3,"title":"403 Access Denied","slug":"_403-access-denied","link":"#_403-access-denied","children":[]},{"level":3,"title":"重启tomcat","slug":"重启tomcat","link":"#重启tomcat","children":[]}]}],"relativePath":"pages/posts/java-stack/tomcat/docker-install-tomcat.md","path":"/home/runner/work/blog/blog/packages/valaxy-blog/pages/posts/java-stack/tomcat/docker-install-tomcat.md","lastUpdated":1732447053000}'),n=c(),h=l.frontmatter||{};return n.meta.frontmatter=Object.assign(n.meta.frontmatter||{},l.frontmatter||{}),k("pageData",l),k("valaxy:frontmatter",h),globalThis.$frontmatter=h,o({frontmatter:{}}),(i,r)=>{const p=d;return g(),m(p,{frontmatter:E(h)},{"main-content-md":a(()=>r[0]||(r[0]=[s("h1",{id:"dokcer安装tomcat",tabindex:"-1"},[t("dokcer安装tomcat "),s("a",{class:"header-anchor",href:"#dokcer安装tomcat","aria-label":'Permalink to "dokcer安装tomcat"'},"​")],-1),s("ul",null,[s("li",null,[s("a",{href:"https://github.com/apache/tomcat/tree/main/conf",target:"_blank",rel:"noreferrer"},"tomcat github")])],-1),s("h2",{id:"修改",tabindex:"-1"},[t("修改 "),s("a",{class:"header-anchor",href:"#修改","aria-label":'Permalink to "修改"'},"​")],-1),s("h3",{id:"manager-gui",tabindex:"-1"},[t("manager-gui "),s("a",{class:"header-anchor",href:"#manager-gui","aria-label":'Permalink to "manager-gui"'},"​")],-1),s("p",null,"容器内部默认不会开启manager-gui,自行添加",-1),s("div",{class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vi"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," tomcat-users.xml")])])]),s("button",{class:"collapse"})],-1),s("p",null,"添加以下内容",-1),s("div",{class:"language-xml vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"xml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  <"),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"role"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," rolename"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"manager-gui"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/>")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  <"),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"role"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," rolename"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"manager-script"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/>")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  <"),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"role"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," rolename"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"manager-jmx"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/>")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  <"),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"role"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," rolename"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"manager-status"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/>")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  <"),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"user"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," username"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"tomcat"'),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," password"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"tomcat"'),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," roles"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"manager-status,manager-gui,manager-script,manager-jmx"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/>")])])]),s("button",{class:"collapse"})],-1),s("h3",{id:"webapps",tabindex:"-1"},[t("webapps "),s("a",{class:"header-anchor",href:"#webapps","aria-label":'Permalink to "webapps"'},"​")],-1),s("p",null,"webapps目录默认是空的，默认程序在webapps.dist目录，复制内容到webapps目录",-1),s("div",{class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"docker-compose"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," exec"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -it"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," bash"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -c"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "cp -r /usr/local/tomcat/webapps.dist/* /usr/local/tomcat/webapps/"')])])]),s("button",{class:"collapse"})],-1),s("h3",{id:"_403-access-denied",tabindex:"-1"},[t("403 Access Denied "),s("a",{class:"header-anchor",href:"#_403-access-denied","aria-label":'Permalink to "403 Access Denied"'},"​")],-1),s("div",{class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vi"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/local/tomcat/webapps/manager/META-INF/context.xml")])])]),s("button",{class:"collapse"})],-1),s("p",null,"注释掉以下内容",-1),s("div",{class:"language-xml vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"xml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"Valve"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," className"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"org.apache.catalina.valves.RemoteAddrValve"')]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"         allow"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," />")])])]),s("button",{class:"collapse"})],-1),s("h3",{id:"重启tomcat",tabindex:"-1"},[t("重启tomcat "),s("a",{class:"header-anchor",href:"#重启tomcat","aria-label":'Permalink to "重启tomcat"'},"​")],-1),s("p",null,"访问管理界面",-1),s("div",{class:"language-shell vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"shell"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"http://192.168.200.253:8080/manager/html")])])]),s("button",{class:"collapse"})],-1)])),"main-header":a(()=>[e(i.$slots,"main-header")]),"main-header-after":a(()=>[e(i.$slots,"main-header-after")]),"main-nav":a(()=>[e(i.$slots,"main-nav")]),"main-content":a(()=>[e(i.$slots,"main-content")]),"main-content-after":a(()=>[e(i.$slots,"main-content-after")]),"main-nav-before":a(()=>[e(i.$slots,"main-nav-before")]),"main-nav-after":a(()=>[e(i.$slots,"main-nav-after")]),comment:a(()=>[e(i.$slots,"comment")]),footer:a(()=>[e(i.$slots,"footer")]),aside:a(()=>[e(i.$slots,"aside")]),"aside-custom":a(()=>[e(i.$slots,"aside-custom")]),default:a(()=>[e(i.$slots,"default")]),_:3},8,["frontmatter"])}}};export{w as default};
