import{_ as m}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BvyuMnyR.js";import{u as h,o as u,c as P,w as t,r as e,g as a,h as r,f as c,p as l}from"./app-boVvO3tb.js";import"./YunComment.vue_vue_type_style_index_0_lang-CrsBtAxv.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-CFbN6BoV.js";import"./post-nLiiti9w.js";const T={__name:"transaction-propagation",setup(f,{expose:g}){const n=JSON.parse('{"title":"事务传播","description":"","frontmatter":{"title":"事务传播"},"headers":[{"level":2,"title":"Propagation.REQUIRED","slug":"propagation-required","link":"#propagation-required","children":[]},{"level":2,"title":"Propagation.REQUIRES_NEW","slug":"propagation-requires-new","link":"#propagation-requires-new","children":[]},{"level":2,"title":"Propagation.SUPPORTED","slug":"propagation-supported","link":"#propagation-supported","children":[]},{"level":2,"title":"Propagation.NOT_SUPPORTS","slug":"propagation-not-supports","link":"#propagation-not-supports","children":[]},{"level":2,"title":"Propagation.MANDATORY","slug":"propagation-mandatory","link":"#propagation-mandatory","children":[]},{"level":2,"title":"Propagation.NEVER","slug":"propagation-never","link":"#propagation-never","children":[]},{"level":2,"title":"Propagation.NEWSTED","slug":"propagation-newsted","link":"#propagation-newsted","children":[]}],"relativePath":"pages/posts/java-stack/spring/transaction-propagation.md","path":"/home/runner/work/blog/blog/packages/valaxy-blog/pages/posts/java-stack/spring/transaction-propagation.md","lastUpdated":1732447053000}'),p=h(),i=n.frontmatter||{};return p.meta.frontmatter=Object.assign(p.meta.frontmatter||{},n.frontmatter||{}),l("pageData",n),l("valaxy:frontmatter",i),globalThis.$frontmatter=i,g({frontmatter:{title:"事务传播"}}),(o,s)=>{const d=m;return u(),P(d,{frontmatter:c(i)},{"main-content-md":t(()=>s[0]||(s[0]=[a("h2",{id:"propagation-required",tabindex:"-1"},[r("Propagation.REQUIRED "),a("a",{class:"header-anchor",href:"#propagation-required","aria-label":'Permalink to "Propagation.REQUIRED"'},"​")],-1),a("p",null,"Spring默认传播行为是reuqired 当前有事务，使用当前事务 当前没有事务，创建新事物，即保证当前方法在事务中",-1),a("h2",{id:"propagation-requires-new",tabindex:"-1"},[r("Propagation.REQUIRES_NEW "),a("a",{class:"header-anchor",href:"#propagation-requires-new","aria-label":'Permalink to "Propagation.REQUIRES_NEW"'},"​")],-1),a("p",null,"当前没有事务，创建事务运行 当前有事务，创建新事物，即存在两个独立的事务 不管当前方法是否有事务，都会创建一个新事物，即存在两个独立事务",-1),a("h2",{id:"propagation-supported",tabindex:"-1"},[r("Propagation.SUPPORTED "),a("a",{class:"header-anchor",href:"#propagation-supported","aria-label":'Permalink to "Propagation.SUPPORTED"'},"​")],-1),a("p",null,"当前有事务时，使用当前事务， 当前没有事务时，无事务运行",-1),a("h2",{id:"propagation-not-supports",tabindex:"-1"},[r("Propagation.NOT_SUPPORTS "),a("a",{class:"header-anchor",href:"#propagation-not-supports","aria-label":'Permalink to "Propagation.NOT_SUPPORTS"'},"​")],-1),a("p",null,"当前存在事务，则挂起事务，无事务运行 当前不存在事务，直接运行 即当前方法不支持事务",-1),a("h2",{id:"propagation-mandatory",tabindex:"-1"},[r("Propagation.MANDATORY "),a("a",{class:"header-anchor",href:"#propagation-mandatory","aria-label":'Permalink to "Propagation.MANDATORY"'},"​")],-1),a("p",null,"当前存在事务，使用当前事务运行 当前不存在事务，抛出异常 即当前传播中必须有事务",-1),a("h2",{id:"propagation-never",tabindex:"-1"},[r("Propagation.NEVER "),a("a",{class:"header-anchor",href:"#propagation-never","aria-label":'Permalink to "Propagation.NEVER"'},"​")],-1),a("p",null,"当前有事务，则抛异常 当前没有事务，正常运行",-1),a("h2",{id:"propagation-newsted",tabindex:"-1"},[r("Propagation.NEWSTED "),a("a",{class:"header-anchor",href:"#propagation-newsted","aria-label":'Permalink to "Propagation.NEWSTED"'},"​")],-1),a("p",null,"当前有事务，在当前事务下创建一个嵌套事务，外层事务异常，内外层事务都回滚，内存事务异常，则只回滚内存事务，外层事务不会回滚 当前没有事务，则创建一个事务",-1)])),"main-header":t(()=>[e(o.$slots,"main-header")]),"main-header-after":t(()=>[e(o.$slots,"main-header-after")]),"main-nav":t(()=>[e(o.$slots,"main-nav")]),"main-content":t(()=>[e(o.$slots,"main-content")]),"main-content-after":t(()=>[e(o.$slots,"main-content-after")]),"main-nav-before":t(()=>[e(o.$slots,"main-nav-before")]),"main-nav-after":t(()=>[e(o.$slots,"main-nav-after")]),comment:t(()=>[e(o.$slots,"comment")]),footer:t(()=>[e(o.$slots,"footer")]),aside:t(()=>[e(o.$slots,"aside")]),"aside-custom":t(()=>[e(o.$slots,"aside-custom")]),default:t(()=>[e(o.$slots,"default")]),_:3},8,["frontmatter"])}}};export{T as default};
